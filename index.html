<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NyxOraculum</title>
    <style>
        /* –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç–∏–ª–∏ */
        body {
            background: url('https://i.imgur.com/7QZQZQz.jpg') no-repeat center center fixed;
            background-size: cover;
            color: #ffffff;
            font-family: 'Arial', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }

        .container {
            text-align: center;
            max-width: 400px;
            width: 100%;
            padding: 20px;
            background-color: rgba(26, 26, 26, 0.8);
            border-radius: 15px;
            box-shadow: 0 0 20px rgba(187, 134, 252, 0.5);
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 20px;
            background: linear-gradient(90deg, #bb86fc, #03dac6, #bb86fc);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: glow 3s infinite;
        }

        @keyframes glow {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .mode-buttons {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-bottom: 20px;
        }

        .mode-buttons button {
            background-color: #444444;
            color: #ffffff;
            border: none;
            border-radius: 10px;
            padding: 15px;
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
        }

        .mode-buttons button:hover {
            background-color: #bb86fc;
            transform: scale(1.05);
            box-shadow: 0 0 10px #bb86fc, 0 0 20px #bb86fc;
        }

        .mode-buttons button:active {
            transform: scale(0.95);
        }

        #achievements-button {
            background-color: #bb86fc;
            color: #1a1a1a;
            border: none;
            border-radius: 10px;
            padding: 15px;
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
        }

        #achievements-button:hover {
            background-color: #03dac6;
            transform: scale(1.05);
            box-shadow: 0 0 10px #03dac6, 0 0 20px #03dac6;
        }

        #achievements-button:active {
            transform: scale(0.95);
        }

        .achievements-modal {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: rgba(26, 26, 26, 0.9);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 0 20px rgba(187, 134, 252, 0.5);
            z-index: 1000;
            text-align: center;
        }

        .achievements-modal h2 {
            font-size: 1.5rem;
            margin-bottom: 10px;
            color: #bb86fc;
        }

        .achievements-modal p {
            font-size: 1rem;
            color: #ffffff;
        }

        .achievements-modal button {
            background-color: #bb86fc;
            color: #1a1a1a;
            border: none;
            border-radius: 10px;
            padding: 10px 20px;
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
        }

        .achievements-modal button:hover {
            background-color: #03dac6;
            transform: scale(1.05);
            box-shadow: 0 0 10px #03dac6, 0 0 20px #03dac6;
        }

        .achievements-modal button:active {
            transform: scale(0.95);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîÆ NyxOraculum</h1>
        <div class="mode-buttons">
            <button onclick="openGame('zener')">–ö–∞—Ä—Ç—ã –ó–µ–Ω–µ—Ä–∞</button>
            <button onclick="openGame('telepathy')">–¢–µ–ª–µ–ø–∞—Ç–∏—è</button>
            <button onclick="openGame('color')">–¶–≤–µ—Ç–∞</button>
            <button id="achievements-button" onclick="showAchievements()">–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</button>
        </div>
    </div>

    <div id="achievements-modal" class="achievements-modal">
        <h2>–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</h2>
        <p id="achievements-list">–ù–µ—Ç –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π</p>
        <button onclick="hideAchievements()">–ó–∞–∫—Ä—ã—Ç—å</button>
    </div>

    <script>
        let achievements = [];

        function openGame(mode) {
            const gameWindow = window.open('', '_blank', 'width=400,height=600');
            gameWindow.document.write(`
                <!DOCTYPE html>
                <html lang="ru">
                <head>
                    <meta charset="UTF-8">
                    <meta name="viewport" content="width=device-width, initial-scale=1.0">
                    <title>${mode === 'zener' ? '–ö–∞—Ä—Ç—ã –ó–µ–Ω–µ—Ä–∞' : mode === 'telepathy' ? '–¢–µ–ª–µ–ø–∞—Ç–∏—è' : '–¶–≤–µ—Ç–∞'}</title>
                    <style>
                        body {
                            background-color: #1a1a1a;
                            color: #ffffff;
                            font-family: 'Arial', sans-serif;
                            display: flex;
                            justify-content: center;
                            align-items: center;
                            height: 100vh;
                            margin: 0;
                        }
                        .game-container {
                            text-align: center;
                            max-width: 400px;
                            width: 100%;
                            padding: 20px;
                            background-color: rgba(26, 26, 26, 0.8);
                            border-radius: 15px;
                            box-shadow: 0 0 20px rgba(187, 134, 252, 0.5);
                        }
                        .button-grid {
                            display: grid;
                            grid-template-columns: repeat(5, 1fr);
                            gap: 10px;
                            margin-bottom: 20px;
                        }
                        .button-grid button {
                            background-color: #444444;
                            color: #ffffff;
                            border: none;
                            border-radius: 50%;
                            width: 50px;
                            height: 50px;
                            font-size: 1rem;
                            cursor: pointer;
                            transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
                        }
                        .button-grid button:hover {
                            background-color: #bb86fc;
                            transform: scale(1.1);
                            box-shadow: 0 0 10px #bb86fc, 0 0 20px #bb86fc;
                        }
                        .button-grid button:active {
                            transform: scale(0.95);
                        }
                    </style>
                </head>
                <body>
                    <div class="game-container">
                        <h2>${mode === 'zener' ? '–ö–∞—Ä—Ç—ã –ó–µ–Ω–µ—Ä–∞' : mode === 'telepathy' ? '–¢–µ–ª–µ–ø–∞—Ç–∏—è' : '–¶–≤–µ—Ç–∞'}</h2>
                        <p id="message">–£–≥–∞–¥–∞–π—Ç–µ!</p>
                        <div id="buttons" class="button-grid"></div>
                        <p>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: <span id="correct">0</span> / <span id="total">0</span></p>
                    </div>
                    <script>
                        const symbols = ['‚óã', '‚ñ°', 'ÔΩû', '‚úö', '‚òÖ'];
                        const colors = ['–∫—Ä–∞—Å–Ω—ã–π', '—Å–∏–Ω–∏–π', '–∑–µ–ª–µ–Ω—ã–π', '–∂–µ–ª—Ç—ã–π', '—Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π'];
                        let correctCount = 0;
                        let totalCount = 0;

                        const messageElement = document.getElementById('message');
                        const buttonsElement = document.getElementById('buttons');
                        const correctElement = document.getElementById('correct');
                        const totalElement = document.getElementById('total');

                        function startGame() {
                            let target, options;
                            if ('${mode}' === 'zener') {
                                target = symbols[Math.floor(Math.random() * symbols.length)];
                                options = symbols;
                                messageElement.textContent = "–£–≥–∞–¥–∞–π—Ç–µ —Å–∏–º–≤–æ–ª!";
                            } else if ('${mode}' === 'telepathy') {
                                target = Math.floor(Math.random() * 10) + 1;
                                options = Array.from({ length: 10 }, (_, i) => i + 1);
                                messageElement.textContent = "–£–≥–∞–¥–∞–π—Ç–µ —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ 10!";
                            } else if ('${mode}' === 'color') {
                                target = colors[Math.floor(Math.random() * colors.length)];
                                options = colors;
                                messageElement.textContent = "–£–≥–∞–¥–∞–π—Ç–µ —Ü–≤–µ—Ç!";
                            }

                            buttonsElement.innerHTML = '';
                            options.forEach(option => {
                                const button = document.createElement('button');
                                button.textContent = option;
                                button.addEventListener('click', () => checkAnswer(option, target));
                                buttonsElement.appendChild(button);
                            });
                        }

                        function checkAnswer(guess, target) {
                            totalCount++;
                            if (guess === target) {
                                correctCount++;
                                messageElement.textContent = "‚úÖ –í–µ—Ä–Ω–æ!";
                                checkAchievements();
                            } else {
                                messageElement.textContent = \`‚ùå –ù–µ–≤–µ—Ä–Ω–æ. –ó–∞–≥–∞–¥–∞–Ω: \${target}\`;
                            }
                            updateStats();
                            setTimeout(startGame, 1000);
                        }

                        function updateStats() {
                            correctElement.textContent = correctCount;
                            totalElement.textContent = totalCount;
                        }

                        function checkAchievements() {
                            if (correctCount === 5) {
                                window.opener.addAchievement('–ù–æ–≤–∏—á–æ–∫');
                            }
                            if (correctCount === 10) {
                                window.opener.addAchievement('–≠–∫—Å–ø–µ—Ä—Ç');
                            }
                            if (correctCount === 20) {
                                window.opener.addAchievement('–ú–∞—Å—Ç–µ—Ä');
                            }
                        }

                        startGame();
                    <\/script>
                </body>
                </html>
            `);
        }

        function addAchievement(achievement) {
            if (!achievements.includes(achievement)) {
                achievements.push(achievement);
                updateAchievements();
            }
        }

        function updateAchievements() {
            const achievementsList = document.getElementById('achievements-list');
            achievementsList.textContent = achievements.join(', ') || '–ù–µ—Ç –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π';
        }

        function showAchievements() {
            const modal = document.getElementById('achievements-modal');
            modal.style.display = 'block';
        }

        function hideAchievements() {
            const modal = document.getElementById('achievements-modal');
            modal.style.display = 'none';
        }
    </script>
</body>
</html>